{
    "resourceType": "cluster",
    "collectionName": "clusters",

    "resourceFields": {
        "name": {
            "type": "string"
        },
        "option": {
            "type": "zkeConfigOption"
        },
        "nodes": {
            "type": "array",
            "elemType": "zkeConfigNode"
        },
        "network": {
            "type": "zkeConfigNetwork"
        },
        "privateRegistries": {
            "type": "array",
            "elemType": "privateRegistry"
        },
        "singleCloudAuth": {
            "type": "singlecloudAuth"
        }
    },

    "subResources": {
        "zkeConfigOption": {
            "sshUser": {
                "type": "string"
            },
            "sshPort": {
                "type": "string"
            },
            "sshKey": {
                "type": "string"
            },
            "dockerSocket": {
                "type": "string"
            },
            "kubernetesVersion": {
                "type": "string"
            },
            "ignoreDockerVersion": {
                "type": "bool"
            },
            "clusterCidr": {
                "type": "string"
            },
            "serviceCidr": {
                "type": "string"
            },
            "clusterDomain": {
                "type": "string"
            },
            "clusterDNSServiceIP": {
                "type": "string"
            },
            "clusterUpstreamDNS": {
                "type": "array",
                "elemType": "string"
            },
            "disablePortCheck": {
                "type": "bool"
            }
        },
        "zkeConfigNode": {
            "nodeName": {
                "type": "string"
            },
            "address": {
                "type": "string"
            },
            "internalAddress": {
                "type": "string"
            },
            "roles": {
                "type": "array",
                "elemType": "string"
            },
            "sshUser": {
                "type": "string"
            },
            "sshPort": {
                "type": "string"
            },
            "sshKey": {
                "type": "string"
            },
            "dockerSocket": {
                "type": "string"
            }
        },
        "zkeConfigNetwork": {
            "plugin": {
                "type": "enum",
                "validValues": ["flannel", "calico"]
            },
            "iface": {
                "type": "string"
            }
        },
        "privateRegistry": {
            "url": {
                "type": "string"
            },
            "user": {
                "type": "string"
            },
            "password": {
                "type": "string"
            },
            "caCert": {
                "type": "string"
            }
        },
        "singleCloudAuth": {
            "url": {
                "type": "string"
            },
            "adminToken": {
                "type": "string"
            }
        }
    },

    "resourceMethods": ["GET", "PUT", "DELETE"],
    "collectionMethods": ["GET", "POST"],

    "postParameters": {
        "fields": {
            "name": {
                "type": "string",
                "required": true
            },
            "option": {
                "type": "zkeConfigOption",
                "required": true
            },
            "nodes": {
                "type": "array",
                "elemType": "zkeConfigNode",
                "required": true
            },
            "network": {
                "type": "zkeConfigNetwork",
                "required": true
            },
            "privateRegistries": {
                "type": "array",
                "elemType": "privateRegistry"
            },
            "singlecloudAuth": {
                "type": "singlecloudAuth"
            }
        },
        "subResources": {
            "zkeConfigOption": {
                "sshUser": {
                    "type": "string",
                    "required": true
                },
                "sshPort": {
                    "type": "string",
                    "required": true
                },
                "sshKey": {
                    "type": "string",
                    "required": true
                },
                "dockerSocket": {
                    "type": "string",
                    "required": true
                },
                "kubernetsVersion": {
                    "type": "string"
                },
                "ignoreDockerVersion": {
                    "type": "bool"
                },
                "clusterCidr": {
                    "type": "string",
                    "required": true
                },
                "serviceCidr": {
                    "type": "string",
                    "required": true
                },
                "clusterDomain": {
                    "type": "string",
                    "required": true
                },
                "clusterDNSServiceIP": {
                    "type": "string",
                    "required": true
                },
                "clusterUpstreamDNS": {
                    "type": "array",
                    "elemType": "string",
                    "required": true
                },
                "disablePortCheck": {
                    "type": "bool"
                }

            },
            "zkeConfigNode": {
                "name": {
                    "type": "string",
                    "required": true
                },
                "address": {
                    "type": "string",
                    "required": true
                },
                "internalAddress": {
                    "type": "string"
                },
                "roles": {
                    "type": "array",
                    "elemType": "string",
                    "required": true
                },
                "sshUser": {
                    "type": "string"
                },
                "sshPort": {
                    "type": "string"
                },
                "sshKey": {
                    "type": "string"
                },
                "dockerSocket": {
                    "type": "string"
                }
            },
            "zkeConfigNetwork": {
                "plugin": {
                    "type": "enum",
                    "validValues": ["flannel", "calico"],
                    "required": true
                },
                "iface": {
                    "type": "string"
                }
            },
            "privateRegistry": {
                "url": {
                    "type": "string"
                },
                "user": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "cacert": {
                    "type": "string"
                }
            },
            "singleCloudAuth": {
                "url": {
                    "type": "string",
                    "required": true
                },
                "adminToken": {
                    "type": "string",
                    "required": true
                }
            }
        }
    }
}